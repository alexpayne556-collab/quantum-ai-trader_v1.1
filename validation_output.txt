âš ï¸  'ta' library not found. Install with: pip install ta

================================================================================
ğŸš€ RUNNING COMPREHENSIVE ACCURACY VALIDATION
================================================================================
Testing on 10 tickers: AAPL, MSFT, NVDA, GOOGL, AMZN, META, TSLA, AMD, MU, SPY

================================================================================
ğŸ“Š VALIDATING FORECASTER ACCURACY
================================================================================

ğŸ” Testing AAPL...
   âŒ Error: operands could not be broadcast together with shapes (24,0) (23,) 

ğŸ” Testing MSFT...
   âŒ Error: operands could not be broadcast together with shapes (24,0) (23,) 

ğŸ” Testing NVDA...
   âŒ Error: operands could not be broadcast together with shapes (24,0) (23,) 

ğŸ” Testing GOOGL...
   âŒ Error: operands could not be broadcast together with shapes (24,0) (23,) 

ğŸ” Testing AMZN...
   âŒ Error: operands could not be broadcast together with shapes (24,0) (23,) 

ğŸ” Testing META...
   âŒ Error: operands could not be broadcast together with shapes (24,0) (23,) 

ğŸ” Testing TSLA...
   âŒ Error: operands could not be broadcast together with shapes (24,0) (23,) 

ğŸ” Testing AMD...
   âŒ Error: operands could not be broadcast together with shapes (24,0) (23,) 

ğŸ” Testing MU...
   âŒ Error: operands could not be broadcast together with shapes (24,0) (23,) 

ğŸ” Testing SPY...
   âŒ Error: operands could not be broadcast together with shapes (24,0) (23,) 

================================================================================
ğŸ” VALIDATING PATTERN DETECTOR
================================================================================

ğŸ” Testing AAPL...

============================================================
Pattern Detection: AAPL
ğŸ¯ OPTIMIZED SIGNALS ENABLED (Tier S/A/B ranking)
============================================================

ğŸ“Š Detection Summary:
  Total patterns detected: 106
  TA-Lib patterns: 106
  EMA ribbon alignments: 0
  VWAP pullbacks: 0
  Opening range breakouts: 0
  ğŸ¯ OPTIMIZED SIGNALS: 0
  High-confidence patterns (>0.7): 106
  Detection time: 15.6ms

ğŸ” Latest Patterns Detected:
  1. BELTHOLD (BULLISH) - Confidence: 100.00% - Price: $286.19 - 2025-12-02
  2. LONGLINE (BULLISH) - Confidence: 100.00% - Price: $286.19 - 2025-12-02
  3. CLOSINGMARUBOZU (BULLISH) - Confidence: 100.00% - Price: $283.10 - 2025-12-01
  4. HIKKAKE (BULLISH) - Confidence: 100.00% - Price: $283.10 - 2025-12-01
  5. HIKKAKE (BULLISH) - Confidence: 100.00% - Price: $278.85 - 2025-11-28
   âœ… Total Patterns: 106
   ğŸ¯ High Confidence (>70%): 106
   ğŸ“Š Avg Confidence: 100.0%
   âš¡ Optimized Signals: 0
   â±ï¸  Detection Time: 15.6ms

ğŸ” Testing MSFT...

============================================================
Pattern Detection: MSFT
ğŸ¯ OPTIMIZED SIGNALS ENABLED (Tier S/A/B ranking)
============================================================

ğŸ“Š Detection Summary:
  Total patterns detected: 102
  TA-Lib patterns: 102
  EMA ribbon alignments: 0
  VWAP pullbacks: 0
  Opening range breakouts: 0
  ğŸ¯ OPTIMIZED SIGNALS: 0
  High-confidence patterns (>0.7): 102
  Detection time: 14.9ms

ğŸ” Latest Patterns Detected:
  1. Engulfing (BULLISH) - Confidence: 100.00% - Price: $490.00 - 2025-12-02
  2. SHORTLINE (BEARISH) - Confidence: 100.00% - Price: $486.74 - 2025-12-01
  3. SHORTLINE (BULLISH) - Confidence: 100.00% - Price: $492.01 - 2025-11-28
  4. Doji (BULLISH) - Confidence: 100.00% - Price: $485.50 - 2025-11-26
  5. HIGHWAVE (BEARISH) - Confidence: 100.00% - Price: $485.50 - 2025-11-26
   âœ… Total Patterns: 102
   ğŸ¯ High Confidence (>70%): 102
   ğŸ“Š Avg Confidence: 100.0%
   âš¡ Optimized Signals: 0
   â±ï¸  Detection Time: 14.9ms

ğŸ” Testing NVDA...

============================================================
Pattern Detection: NVDA
ğŸ¯ OPTIMIZED SIGNALS ENABLED (Tier S/A/B ranking)
============================================================

ğŸ“Š Detection Summary:
  Total patterns detected: 106
  TA-Lib patterns: 105
  EMA ribbon alignments: 0
  VWAP pullbacks: 1
  Opening range breakouts: 0
  ğŸ¯ OPTIMIZED SIGNALS: 0
  High-confidence patterns (>0.7): 105
  Detection time: 15.4ms

ğŸ” Latest Patterns Detected:
  1. SHORTLINE (BULLISH) - Confidence: 100.00% - Price: $183.38 - 2025-12-04
  2. SHORTLINE (BEARISH) - Confidence: 100.00% - Price: $179.58 - 2025-12-03
  3. 3OUTSIDE (BULLISH) - Confidence: 100.00% - Price: $181.45 - 2025-12-02
  4. Doji (BULLISH) - Confidence: 100.00% - Price: $181.45 - 2025-12-02
  5. DOJISTAR (BEARISH) - Confidence: 100.00% - Price: $181.45 - 2025-12-02
   âœ… Total Patterns: 106
   ğŸ¯ High Confidence (>70%): 105
   ğŸ“Š Avg Confidence: 99.3%
   âš¡ Optimized Signals: 0
   â±ï¸  Detection Time: 15.4ms

ğŸ” Testing GOOGL...

============================================================
Pattern Detection: GOOGL
ğŸ¯ OPTIMIZED SIGNALS ENABLED (Tier S/A/B ranking)
============================================================

ğŸ“Š Detection Summary:
  Total patterns detected: 102
  TA-Lib patterns: 102
  EMA ribbon alignments: 0
  VWAP pullbacks: 0
  Opening range breakouts: 0
  ğŸ¯ OPTIMIZED SIGNALS: 0
  High-confidence patterns (>0.7): 102
  Detection time: 14.9ms

ğŸ” Latest Patterns Detected:
  1. BELTHOLD (BEARISH) - Confidence: 100.00% - Price: $317.62 - 2025-12-04
  2. HIKKAKE (BEARISH) - Confidence: 100.00% - Price: $319.63 - 2025-12-03
  3. SHORTLINE (BULLISH) - Confidence: 100.00% - Price: $319.63 - 2025-12-03
  4. Doji (BULLISH) - Confidence: 100.00% - Price: $315.81 - 2025-12-02
  5. LONGLEGGEDDOJI (BULLISH) - Confidence: 100.00% - Price: $315.81 - 2025-12-02
   âœ… Total Patterns: 102
   ğŸ¯ High Confidence (>70%): 102
   ğŸ“Š Avg Confidence: 100.0%
   âš¡ Optimized Signals: 0
   â±ï¸  Detection Time: 14.9ms

ğŸ” Testing AMZN...

============================================================
Pattern Detection: AMZN
ğŸ¯ OPTIMIZED SIGNALS ENABLED (Tier S/A/B ranking)
============================================================

ğŸ“Š Detection Summary:
  Total patterns detected: 92
  TA-Lib patterns: 92
  EMA ribbon alignments: 0
  VWAP pullbacks: 0
  Opening range breakouts: 0
  ğŸ¯ OPTIMIZED SIGNALS: 0
  High-confidence patterns (>0.7): 92
  Detection time: 14.9ms

ğŸ” Latest Patterns Detected:
  1. Hammer (BULLISH) - Confidence: 100.00% - Price: $232.38 - 2025-12-03
  2. SPINNINGTOP (BEARISH) - Confidence: 100.00% - Price: $234.42 - 2025-12-02
  3. SPINNINGTOP (BULLISH) - Confidence: 100.00% - Price: $233.88 - 2025-12-01
  4. SHORTLINE (BULLISH) - Confidence: 100.00% - Price: $233.22 - 2025-11-28
  5. SHORTLINE (BEARISH) - Confidence: 100.00% - Price: $229.16 - 2025-11-26
   âœ… Total Patterns: 92
   ğŸ¯ High Confidence (>70%): 92
   ğŸ“Š Avg Confidence: 100.0%
   âš¡ Optimized Signals: 0
   â±ï¸  Detection Time: 14.9ms

ğŸ” Testing META...

============================================================
Pattern Detection: META
ğŸ¯ OPTIMIZED SIGNALS ENABLED (Tier S/A/B ranking)
============================================================

ğŸ“Š Detection Summary:
  Total patterns detected: 120
  TA-Lib patterns: 120
  EMA ribbon alignments: 0
  VWAP pullbacks: 0
  Opening range breakouts: 0
  ğŸ¯ OPTIMIZED SIGNALS: 0
  High-confidence patterns (>0.7): 120
  Detection time: 15.0ms

ğŸ” Latest Patterns Detected:
  1. BELTHOLD (BEARISH) - Confidence: 100.00% - Price: $661.53 - 2025-12-04
  2. LONGLINE (BEARISH) - Confidence: 100.00% - Price: $661.53 - 2025-12-04
  3. XSIDEGAP3METHODS (BULLISH) - Confidence: 100.00% - Price: $639.60 - 2025-12-03
  4. HIKKAKE (BEARISH) - Confidence: 100.00% - Price: $647.10 - 2025-12-02
  5. Doji (BULLISH) - Confidence: 100.00% - Price: $640.87 - 2025-12-01
   âœ… Total Patterns: 120
   ğŸ¯ High Confidence (>70%): 120
   ğŸ“Š Avg Confidence: 99.8%
   âš¡ Optimized Signals: 0
   â±ï¸  Detection Time: 15.0ms

ğŸ” Testing TSLA...

============================================================
Pattern Detection: TSLA
ğŸ¯ OPTIMIZED SIGNALS ENABLED (Tier S/A/B ranking)
============================================================

ğŸ“Š Detection Summary:
  Total patterns detected: 96
  TA-Lib patterns: 96
  EMA ribbon alignments: 0
  VWAP pullbacks: 0
  Opening range breakouts: 0
  ğŸ¯ OPTIMIZED SIGNALS: 0
  High-confidence patterns (>0.7): 96
  Detection time: 14.9ms

ğŸ” Latest Patterns Detected:
  1. BELTHOLD (BULLISH) - Confidence: 100.00% - Price: $446.74 - 2025-12-03
  2. CLOSINGMARUBOZU (BULLISH) - Confidence: 100.00% - Price: $446.74 - 2025-12-03
  3. LONGLINE (BULLISH) - Confidence: 100.00% - Price: $446.74 - 2025-12-03
  4. MARUBOZU (BULLISH) - Confidence: 100.00% - Price: $446.74 - 2025-12-03
  5. Doji (BULLISH) - Confidence: 100.00% - Price: $429.24 - 2025-12-02
   âœ… Total Patterns: 96
   ğŸ¯ High Confidence (>70%): 96
   ğŸ“Š Avg Confidence: 100.0%
   âš¡ Optimized Signals: 0
   â±ï¸  Detection Time: 14.9ms

ğŸ” Testing AMD...

============================================================
Pattern Detection: AMD
ğŸ¯ OPTIMIZED SIGNALS ENABLED (Tier S/A/B ranking)
============================================================

ğŸ“Š Detection Summary:
  Total patterns detected: 85
  TA-Lib patterns: 85
  EMA ribbon alignments: 0
  VWAP pullbacks: 0
  Opening range breakouts: 0
  ğŸ¯ OPTIMIZED SIGNALS: 0
  High-confidence patterns (>0.7): 85
  Detection time: 14.7ms

ğŸ” Latest Patterns Detected:
  1. Doji (BULLISH) - Confidence: 100.00% - Price: $215.98 - 2025-12-04
  2. HIGHWAVE (BEARISH) - Confidence: 100.00% - Price: $215.98 - 2025-12-04
  3. LONGLEGGEDDOJI (BULLISH) - Confidence: 100.00% - Price: $215.98 - 2025-12-04
  4. RICKSHAWMAN (BULLISH) - Confidence: 100.00% - Price: $215.98 - 2025-12-04
  5. SHORTLINE (BEARISH) - Confidence: 100.00% - Price: $215.98 - 2025-12-04
   âœ… Total Patterns: 85
   ğŸ¯ High Confidence (>70%): 85
   ğŸ“Š Avg Confidence: 100.0%
   âš¡ Optimized Signals: 0
   â±ï¸  Detection Time: 14.7ms

ğŸ” Testing MU...

============================================================
Pattern Detection: MU
ğŸ¯ OPTIMIZED SIGNALS ENABLED (Tier S/A/B ranking)
============================================================

ğŸ“Š Detection Summary:
  Total patterns detected: 113
  TA-Lib patterns: 113
  EMA ribbon alignments: 0
  VWAP pullbacks: 0
  Opening range breakouts: 0
  ğŸ¯ OPTIMIZED SIGNALS: 0
  High-confidence patterns (>0.7): 113
  Detection time: 15.0ms

ğŸ” Latest Patterns Detected:
  1. Doji (BULLISH) - Confidence: 100.00% - Price: $239.49 - 2025-12-02
  2. Harami (BEARISH) - Confidence: 100.00% - Price: $239.49 - 2025-12-02
  3. HARAMICROSS (BEARISH) - Confidence: 100.00% - Price: $239.49 - 2025-12-02
  4. HIGHWAVE (BULLISH) - Confidence: 100.00% - Price: $239.49 - 2025-12-02
  5. LONGLEGGEDDOJI (BULLISH) - Confidence: 100.00% - Price: $239.49 - 2025-12-02
   âœ… Total Patterns: 113
   ğŸ¯ High Confidence (>70%): 113
   ğŸ“Š Avg Confidence: 100.0%
   âš¡ Optimized Signals: 0
   â±ï¸  Detection Time: 15.0ms

ğŸ” Testing SPY...

============================================================
Pattern Detection: SPY
ğŸ¯ OPTIMIZED SIGNALS ENABLED (Tier S/A/B ranking)
============================================================

ğŸ“Š Detection Summary:
  Total patterns detected: 82
  TA-Lib patterns: 82
  EMA ribbon alignments: 0
  VWAP pullbacks: 0
  Opening range breakouts: 0
  ğŸ¯ OPTIMIZED SIGNALS: 0
  High-confidence patterns (>0.7): 82
  Detection time: 16.7ms

ğŸ” Latest Patterns Detected:
  1. 3OUTSIDE (BULLISH) - Confidence: 100.00% - Price: $684.39 - 2025-12-04
  2. Hanging Man (BEARISH) - Confidence: 100.00% - Price: $684.39 - 2025-12-04
  3. Engulfing (BULLISH) - Confidence: 100.00% - Price: $683.89 - 2025-12-03
  4. SHORTLINE (BULLISH) - Confidence: 100.00% - Price: $683.89 - 2025-12-03
  5. Doji (BULLISH) - Confidence: 100.00% - Price: $681.53 - 2025-12-02
   âœ… Total Patterns: 82
   ğŸ¯ High Confidence (>70%): 82
   ğŸ“Š Avg Confidence: 100.0%
   âš¡ Optimized Signals: 0
   â±ï¸  Detection Time: 16.7ms

ğŸ“Š AGGREGATE PATTERN DETECTOR METRICS:
   Avg Patterns Per Ticker: 100.4
   Avg High Confidence: 100.3
   Avg Confidence Score: 99.9%
   Avg Detection Speed: 15.2ms

================================================================================
ğŸ¤– VALIDATING AI RECOMMENDER
================================================================================

ğŸ” Testing AAPL...
   Label distribution (initial): BUY=215 (28.6%), HOLD=412 (54.9%), SELL=124 (16.5%)
   Final label distribution: BUY=215 (28.6%), HOLD=412 (54.9%), SELL=124 (16.5%)
   âœ… CV Mean Accuracy: 39.9%
   ğŸ“Š CV Std Dev: Â±5.6%
   ğŸ“ˆ Samples: 744
   ğŸ¯ Selected Features: 12
   ğŸ”® Current Signal: SELL (100.0%)

ğŸ” Testing MSFT...
   Label distribution (initial): BUY=192 (25.6%), HOLD=452 (60.2%), SELL=107 (14.2%)
   Final label distribution: BUY=192 (25.6%), HOLD=452 (60.2%), SELL=107 (14.2%)
   âœ… CV Mean Accuracy: 42.6%
   ğŸ“Š CV Std Dev: Â±16.6%
   ğŸ“ˆ Samples: 744
   ğŸ¯ Selected Features: 12
   ğŸ”® Current Signal: SELL (98.4%)

ğŸ” Testing NVDA...
   Label distribution (initial): BUY=250 (33.3%), HOLD=396 (52.7%), SELL=105 (14.0%)
   Final label distribution: BUY=250 (33.3%), HOLD=396 (52.7%), SELL=105 (14.0%)
   âš ï¸ Low CV accuracy 0.29 - consider more features or different horizon
   âœ… CV Mean Accuracy: 28.9%
   ğŸ“Š CV Std Dev: Â±9.6%
   ğŸ“ˆ Samples: 744
   ğŸ¯ Selected Features: 12
   ğŸ”® Current Signal: SELL (90.6%)

ğŸ” Testing GOOGL...
   Label distribution (initial): BUY=213 (28.4%), HOLD=436 (58.1%), SELL=102 (13.6%)
   Final label distribution: BUY=213 (28.4%), HOLD=436 (58.1%), SELL=102 (13.6%)
   âœ… CV Mean Accuracy: 42.9%
   ğŸ“Š CV Std Dev: Â±10.5%
   ğŸ“ˆ Samples: 744
   ğŸ¯ Selected Features: 12
   ğŸ”® Current Signal: SELL (86.5%)

ğŸ” Testing AMZN...
   Label distribution (initial): BUY=193 (25.7%), HOLD=454 (60.5%), SELL=104 (13.8%)
   Final label distribution: BUY=193 (25.7%), HOLD=454 (60.5%), SELL=104 (13.8%)
   âœ… CV Mean Accuracy: 43.3%
   ğŸ“Š CV Std Dev: Â±10.0%
   ğŸ“ˆ Samples: 744
   ğŸ¯ Selected Features: 12
   ğŸ”® Current Signal: HOLD (100.0%)

ğŸ“Š AGGREGATE AI RECOMMENDER METRICS:
   Avg CV Accuracy: 39.5%
   Avg Training Samples: 744
   Avg Features Selected: 12
   Signal Distribution: {'SELL': 4, 'HOLD': 1}

================================================================================
âœ… VALIDATION COMPLETE
================================================================================
ğŸ“ Report saved to: system_accuracy_report.json

ğŸ¥ SYSTEM HEALTH SUMMARY:
   Forecaster: ğŸ”´ NEEDS IMPROVEMENT (0/100)
   Pattern Detector: âœ… EXCELLENT (100/100)
   AI Recommender: ğŸ”´ NEEDS IMPROVEMENT (40/100)

   ğŸ“Š Overall Score: 44/100 - ğŸ”´ NEEDS IMPROVEMENT

================================================================================
ğŸ¯ READY FOR SPARK FRONTEND INTEGRATION
================================================================================

The system_accuracy_report.json file contains:
  â€¢ Forecaster: Direction accuracy, MAE, RMSE, hit rates
  â€¢ Pattern Detector: Pattern counts, confidence scores, detection speed
  â€¢ AI Recommender: CV accuracy, feature selection, signals

Use this data to:
  1. Display real-time accuracy metrics in dashboard
  2. Show health status for each module
  3. Track performance over time
  4. Alert when accuracy drops below thresholds
